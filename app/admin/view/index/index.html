<!DOCTYPE html>
<html>

<head>
    <title></title>
    {include file="common/header"/}
    <el-form :inline="true">
        <el-form-item>
            <el-button type="primary" icon="el-icon-edit" size="small" @click="add">添加</el-button>
        </el-form-item>
        <el-form-item>
            <el-button type="danger" icon="el-icon-delete" size="small">删除</el-button>
        </el-form-item>
        <div style="float:right">
            <el-form-item>
                <el-input placeholder="审批人" size="small"></el-input>
            </el-form-item>
            <el-form-item label="活动区域">
                <el-select placeholder="活动区域" size="small">
                    <el-option label="区域一" value="shanghai"></el-option>
                    <el-option label="区域二" value="beijing"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item>
                <el-button icon="el-icon-search" size="small">搜索</el-button>
            </el-form-item>
        </div>
    </el-form>
    <el-table :data="tableData" border>
        <el-table-column prop="date" label="日期" width="140">
        </el-table-column>
        <el-table-column prop="name" label="姓名" width="120">
        </el-table-column>
        <el-table-column prop="address" label="地址">
        </el-table-column>
    </el-table>
    <el-pagination background layout="prev, pager, next" :total="1000" :hide-on-single-page="true"
        style="margin-top: 10px;text-align: right;">
    </el-pagination>



    <!-- Form -->
    <el-button type="text" @click="dialogFormVisible = true">打开嵌套表单的 Dialog</el-button>

    <el-dialog title="收货地址" :visible.sync="dialogFormVisible" :modal-append-to-body='false'>
        <el-form>
            <el-form-item label="活动名称" :label-width="formLabelWidth">
                <el-input autocomplete="off"></el-input>
            </el-form-item>
            <el-form-item label="活动区域" :label-width="formLabelWidth">
                <el-select v-model="form.test" placeholder="请选择活动区域">
                    <el-option label="区域一" value="shanghai"></el-option>
                    <el-option label="区域二" value="beijing"></el-option>
                </el-select>
            </el-form-item>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button type="primary" @click="dialogFormVisible = false">修 改</el-button>
        </div>
    </el-dialog>

    {include file="common/footer"/}
    <script>
        new Vue({
            el: '#app',
            data: function () {
                const item = {
                    date: '2016-05-02',
                    name: '王小虎',
                    address: '上海市普陀区金沙江路 1518 弄'
                };
                return {
                    formLabelWidth: '80px',
                    dialogFormVisible: false,
                    tableData: Array(20).fill(item),
                    form: {
                        test:"",
                        user_account: "root",
                        user_password: "123456"
                    }
                }
            },
            methods: {
                add: function () {
                    this.dialogVisible = true;
                },
                onSubmit: function () {
                    var that = this;
                    axios.post('/api/user/login', Object.assign(PostBase, this.form))
                        .then(function (response) {
                            if (response.data.code == CODE_SUCCESS) {
                                that.$message({
                                    message: '登录成功,正在跳转中',
                                    type: 'success'
                                });
                                setCookie('access_token', response.data.data.access_token);
                            }
                        })
                        .catch(function (error) {
                            that.$message.error('登录失败，服务器内部错误');
                        });
                }
            }
        })
    </script>


</html>